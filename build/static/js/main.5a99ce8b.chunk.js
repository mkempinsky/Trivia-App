(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),l=n.n(c),s=n(1),i=n(2),o=n(4),u=n(3),f=n(5),d=n(8),m=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=t.split(".").reduce(function(e,t){var n=t.match(/\[\d\]$/);if(n){var a=t.slice(0,n.index);a&&e.push(a);var r=+t.slice(n.index+1,t.length-1);e.push(r)}else e.push(t);return e},[]).reduce(function(e,t){return null===e||void 0===e?e:e[t]},e);return void 0!==a&&null!==a?a:n},h=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e},p=function(e){return r.a.createElement("div",null,r.a.createElement("button",e,e.children))},y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isAnsweredCorrect:null,isAnswered:null},n.componentDidMount=function(){var e=n.props.data,t=m(e,"correct_answer"),a=m(e,"incorrect_answers").map(function(e){return{answer:e,correct:!1}});a.push({answer:t,correct:!0});var r=h(a);n.setState({answers:r})},n.handleClick=function(e){n.setState({isAnsweredCorrect:e,isAnswered:!0},function(){this.props.triggerParentUpdate(this.state.isAnsweredCorrect)})},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data,n=m(t,"question"),a=m(t,"difficulty"),c=m(t,"category").replace("Entertainment:",""),l=this.state.answers;return console.log(c),r.a.createElement("div",{className:"question-card"},r.a.createElement("p",{style:{textAlign:"center"},dangerouslySetInnerHTML:{__html:n}}),r.a.createElement("div",{className:"answers-container"},this.state.answers&&r.a.createElement("div",null,l.map(function(t){e.state.isAnsweredCorrect;var n=t.correct&&e.state.isAnsweredCorrect&&"green",a=t.correct&&e.state.isAnswered&&!e.state.isAnsweredCorrect&&"reveal-correct";return r.a.createElement(p,{key:t.answer,className:"question ".concat(n," ").concat(a),disabled:e.state.isAnswered,onClick:function(){return e.handleClick(t.correct)}},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:t.answer}}))}))),r.a.createElement("div",{className:"difficulty-container"},"Level:"," ",a&&"easy"===a&&r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-circle ".concat(a)})),a&&"medium"===a&&r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-circle ".concat(a)}),r.a.createElement("i",{className:"fas fa-circle ".concat(a)})),a&&"hard"===a&&r.a.createElement("span",null,r.a.createElement("i",{className:"fas fa-circle ".concat(a)}),r.a.createElement("i",{className:"fas fa-circle ".concat(a)}),r.a.createElement("i",{className:"fas fa-circle ".concat(a)}))),r.a.createElement("span",{style:{fontSize:"12px"},dangerouslySetInnerHTML:{__html:c}}))}}]),t}(r.a.Component),v=["random","easy","medium","hard"],E=[{title:"General Knowledge",key:9},{title:"Television",key:14},{title:"Film",key:11},{title:"Music",key:12},{title:"Science & Nature",key:17},{title:"Sports",key:21},{title:"Geography",key:22},{title:"History",key:23},{title:"Politics",key:24},{title:"Celebrities",key:26},{title:"Animals",key:27}],g=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isLoaded:!1,error:null,questions:[],points:0,difficulty:null,category:null},n.fetchQuestions=function(){console.log("fetching questions");var e="random"===n.state.difficulty||null===n.state.difficulty?"":"&difficulty=".concat(n.state.difficulty),t=null===n.state.category?"&category=".concat(9):"&category=".concat(n.state.category);fetch("https://opentdb.com/api.php?amount=10".concat(e).concat(t)).then(function(e){return e.json()}).then(function(e){n.setState({isLoaded:!0,points:0,questions:e.results},function(){console.log(n.state)})},function(e){n.setState({isLoaded:!0,error:e})})},n.componentDidMount=function(){n.fetchQuestions()},n.updateCounter=function(e){e&&n.setState(function(e){return Object(d.a)({},e,{points:++n.state.points})})},n.handleLevelClick=function(e){n.setState({difficulty:e},function(){n.fetchQuestions()})},n.handleCategoryClick=function(e){n.setState({category:e},function(){n.fetchQuestions()})},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state.questions,n=t.length,a=this.state.difficulty||"random",c=this.state.category||9;return r.a.createElement("div",null,r.a.createElement("div",{className:"filters"},r.a.createElement("p",null,"Select a level:"),r.a.createElement("div",{className:"levels-container"},v.map(function(t){var n=t===a?"active":"";return r.a.createElement("button",{key:t,className:"levels ".concat(n),onClick:function(){return e.handleLevelClick(t)}},t.toUpperCase())})),r.a.createElement("p",null,"Select a Category:"),r.a.createElement("div",{className:"levels-container"},E.map(function(t){var n=t.key===c?"active":"";return r.a.createElement("button",{key:t.key,className:"categories ".concat(n),onClick:function(){return e.handleCategoryClick(t.key)}},t.title.toUpperCase())}))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"counter",style:{flex:"1"}},r.a.createElement("h3",{style:{margin:"0 0 5px 0"}},"Points:"),this.state.points,"/",n),r.a.createElement("div",{style:{flex:"2"}},t.map(function(t){return r.a.createElement(y,{key:t.question,data:t,triggerParentUpdate:e.updateCounter})}))))}}]),t}(r.a.Component),w=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={correctAnswers:null},n}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{maxWidth:"700px",margin:"0 auto"}},r.a.createElement("h1",null,"Trivia"),r.a.createElement(g,null))}}]),t}(r.a.Component);n(14);var k=document.getElementById("root");l.a.render(r.a.createElement(function(){return r.a.createElement("div",{className:"App"},r.a.createElement(w,null))},null),k)},9:function(e,t,n){e.exports=n(16)}},[[9,2,1]]]);
//# sourceMappingURL=main.5a99ce8b.chunk.js.map